{"version":3,"sources":["./src/app/places/offers/edit-offer/edit-offer.page.html","./src/app/places/offers/edit-offer/edit-offer-routing.module.ts","./src/app/places/offers/edit-offer/edit-offer.module.ts","./src/app/places/offers/edit-offer/edit-offer.page.scss","./src/app/places/offers/edit-offer/edit-offer.page.ts"],"names":[],"mappings":"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","file":"offers-edit-offer-edit-offer-module-es2015.js","sourcesContent":["module.exports = \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button defaultHref=\\\"/places/tabs/offers\\\"></ion-back-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title>edit-offer</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n  <form [formGroup]=\\\"form\\\">\\r\\n    <ion-grid>\\r\\n      <ion-row>\\r\\n        <ion-col>\\r\\n          <ion-item>\\r\\n            <ion-label position=\\\"floating\\\">Title</ion-label>\\r\\n            <ion-input type=\\\"text\\\" formControlName=\\\"title\\\"></ion-input>\\r\\n          </ion-item>\\r\\n        </ion-col>\\r\\n      </ion-row>\\r\\n      <ion-row>\\r\\n        <ion-col>\\r\\n          <ion-item>\\r\\n            <ion-label position=\\\"floating\\\">Description</ion-label>\\r\\n            <ion-textarea rows=\\\"2\\\" type=\\\"text\\\" formControlName=\\\"description\\\"></ion-textarea>\\r\\n          </ion-item>\\r\\n        </ion-col>\\r\\n      </ion-row>\\r\\n      <ion-button (click)=\\\"onUpdate()\\\" type=\\\"submit\\\" color=\\\"primary\\\">Update</ion-button>\\r\\n    </ion-grid>\\r\\n  </form>\\r\\n</ion-content>\\r\\n\"","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { EditOfferPage } from './edit-offer.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: EditOfferPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class EditOfferPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { EditOfferPageRoutingModule } from './edit-offer-routing.module';\r\n\r\nimport { EditOfferPage } from './edit-offer.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    ReactiveFormsModule,\r\n    IonicModule,\r\n    EditOfferPageRoutingModule\r\n  ],\r\n  declarations: [EditOfferPage]\r\n})\r\nexport class EditOfferPageModule {}\r\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BsYWNlcy9vZmZlcnMvZWRpdC1vZmZlci9lZGl0LW9mZmVyLnBhZ2Uuc2NzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { NavController, LoadingController } from '@ionic/angular';\r\nimport { Place } from '../../places.model';\r\nimport { PlacesService } from '../../places.service';\r\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\r\n\r\n@Component({\r\n  selector: 'app-edit-offer',\r\n  templateUrl: './edit-offer.page.html',\r\n  styleUrls: ['./edit-offer.page.scss'],\r\n})\r\nexport class EditOfferPage implements OnInit {\r\n  place: Place;\r\n  form: FormGroup;\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private navCtrl: NavController,\r\n    private placeService: PlacesService,\r\n    private loadingCtrl: LoadingController\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.route.paramMap.subscribe(param => {\r\n      if (!param.has(\"placeId\")){\r\n        this.navCtrl.navigateBack(\"/places/tabs/offers\");\r\n        return;\r\n      }\r\n      this.placeService.getPlace(param.get('placeId')).subscribe(place => {\r\n        this.place = place;\r\n      });\r\n    })\r\n    this.form = new FormGroup({\r\n      title: new FormControl(this.place.title, {\r\n        updateOn: 'change',\r\n        validators: [Validators.required]\r\n      }),\r\n      description: new FormControl(this.place.description, {\r\n        updateOn: \"change\",\r\n        validators: [Validators.required, Validators.maxLength(180)]\r\n      })\r\n    });\r\n  }\r\n\r\n  onUpdate() {\r\n    console.log(this.form);\r\n    if (!this.form.valid){\r\n      return;\r\n    }\r\n    const {title, description} = this.form.value;\r\n    this.loadingCtrl.create({\r\n      message: 'loading...'\r\n    }).then(loadingEl => loadingEl.present());\r\n\r\n    this.placeService.updatePlace(this.place.id, {\r\n      title,\r\n      description\r\n    }).subscribe(() => {\r\n      this.loadingCtrl.dismiss();\r\n    });\r\n  }\r\n\r\n}\r\n"],"sourceRoot":""}